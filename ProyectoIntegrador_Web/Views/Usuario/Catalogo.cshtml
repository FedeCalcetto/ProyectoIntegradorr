@model ProyectoIntegrador.LogicaAplication.Dtos.CatalogoDto

@{
    ViewData["Title"] = "Catálogo";
}



<div class="container py-4">

    <h2 class="mb-4 text-center">Catálogo de productos</h2>

    <!-- ============================= -->
    <!-- AGREGADOS RECIENTEMENTE -->
    <!-- ============================= -->
    <h4 class="mb-3">Agregados recientemente</h4>

    <div class="slider-container">
        <button class="slider-btn left" onclick="mover(this, -1)">‹</button>

        <div class="slider">
            @foreach (var producto in Model.Recientes)
            {
                <div class="slider-item">
                    <partial name="_ProductoCard" model="producto" />
                </div>
            }
        </div>

        <button class="slider-btn right" onclick="mover(this, 1)">›</button>
    </div>

    <!-- ============================= -->
    <!-- POR SUBCATEGORÍA -->
    <!-- ============================= -->
    @foreach (var categoria in Model.PorCategoria)
    {
        <h4 class="mt-5 mb-3">@categoria.Nombre</h4>

        <div class="slider-container">
            <button class="slider-btn left" onclick="mover(this, -1)">‹</button>

            <div class="slider">
                @foreach (var producto in categoria.Productos)
                {
                    <div class="slider-item">
                        <partial name="_ProductoCard" model="producto" />
                    </div>
                }
            </div>

            <button class="slider-btn right" onclick="mover(this, 1)">›</button>
        </div>
    }
</div>

<script>
    function mover(boton, direccion) {
        const slider = boton.parentElement.querySelector('.slider');
        const anchoCard = slider.querySelector('.slider-item').offsetWidth + 16;
        slider.scrollLeft += direccion * anchoCard * 2;
    }
</script>